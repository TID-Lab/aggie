<div class="table-filters">
  <div class="filter">
    <a href class="btn btn-primary" ng-click="refresh()">Refresh Source list</a>
  </div>
</div>

<div class="bs-component" ng-hide="sources.length > 0">
  <div class="alert alert-warning">
    <h4>Sorry, but we couldn't find any sources</h4>
  </div>
</div>

<input type="button" class="btn btn-primary" href="#" ng-click="refresh()" value="Refresh source list"></input>
<input ng-controller="SourceFormModalController" type="button" class="btn btn-primary" href="#" ng-click="open()" value="Create new source"></input>
<table class="table" ng-show="sources.length > 0">
  <thead>
    <tr>
      <th>Name</th>
      <th>Target</th>
      <th>Last Report Date</th>
      <th>Unread Error Count</th>
      <th>Enabled</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="s in sources"  class="item" ng-click="viewSource($event, s)">
      <td class="compact source" ng-class="sourceClass(s)"><div class="icon-left">{{ s.nickname }}</div></td>
      <td class="compact content">{{ target(s) }}</td>
        <span ng-switch="source.type">
          <span ng-when="twitter">{{source.keywords}}</span>
          <span ng-switch-default><a href="{{source.url}}" target="_blank">{{source.url}}</a>
        </span>
      </td>
      <td class="compact content">{{ s.lastReportDate }}</td>
      <td class="compact content zeroErrors" ng-class="{ multipleErrors: s.unreadErrorCount > 0 }">{{ s.unreadErrorCount }}</td>
      <td class="compact status">
        <aggie-toggle toggle="s.enabled" options="{ true: 'En', false: 'Dis' }" on-change="saveSource(s)">
      </td>
    </tr>
  </tbody>
</table>
